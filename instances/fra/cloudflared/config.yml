# =============================================================================
# DIVE V3 - FRA Instance Cloudflare Tunnel Configuration
# =============================================================================
# Generated by generate-instance.sh - Do not edit manually
# Regenerate with: ./scripts/generate-instance.sh FRA
# =============================================================================

tunnel: e07574bd-6f32-478b-8f71-42fc3d4073f7
credentials-file: /etc/cloudflared/credentials.json

# Force HTTP/2 to avoid QUIC timeout issues on restricted networks
protocol: http2

ingress:
  # Frontend (Next.js dev server with HTTPS)
  - hostname: fra-app.dive25.com
    service: https://frontend-fra:3000
    originRequest:
      noTLSVerify: true

  # Backend API
  - hostname: fra-api.dive25.com
    service: https://backend-fra:4000
    originRequest:
      noTLSVerify: true

  # Keycloak IdP
  - hostname: fra-idp.dive25.com
    service: https://keycloak-fra:8443
    originRequest:
      noTLSVerify: true

  # KAS
  - hostname: fra-kas.dive25.com
    service: https://kas-fra:8080
    originRequest:
      noTLSVerify: true

  # Catch-all
  - service: http_status:404
