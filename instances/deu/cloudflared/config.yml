# =============================================================================
# DIVE V3 - DEU Instance Cloudflare Tunnel Configuration
# =============================================================================
# Generated by generate-instance.sh - Do not edit manually
# Regenerate with: ./scripts/generate-instance.sh DEU
# =============================================================================

tunnel: 2856308e-2467-495d-b735-6f588140c387
credentials-file: /etc/cloudflared/credentials.json

# Force HTTP/2 to avoid QUIC timeout issues on restricted networks
protocol: http2

ingress:
  # Frontend (Next.js dev server with HTTPS)
  - hostname: deu-app.dive25.com
    service: https://frontend-deu:3000
    originRequest:
      noTLSVerify: true

  # Backend API
  - hostname: deu-api.dive25.com
    service: https://backend-deu:4000
    originRequest:
      noTLSVerify: true

  # Keycloak IdP
  - hostname: deu-idp.dive25.com
    service: https://keycloak-deu:8443
    originRequest:
      noTLSVerify: true

  # KAS
  - hostname: deu-kas.dive25.com
    service: https://kas-deu:8080
    originRequest:
      noTLSVerify: true

  # Catch-all
  - service: http_status:404
