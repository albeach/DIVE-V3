# =============================================================================
# DIVE V3 Spoke Environment Configuration
# =============================================================================
# Template file - copy to instances/<code>/.env and fill in values
# =============================================================================

# -----------------------------------------------------------------------------
# Database Passwords
# Generate secure random passwords for each service
# Example: openssl rand -base64 16 | tr -d '/+='
# -----------------------------------------------------------------------------
POSTGRES_PASSWORD=
MONGO_PASSWORD=

# -----------------------------------------------------------------------------
# Keycloak Admin
# The admin password for the Keycloak instance
# -----------------------------------------------------------------------------
KEYCLOAK_ADMIN_PASSWORD=

# -----------------------------------------------------------------------------
# Authentication Secrets
# Used for NextAuth session encryption and Keycloak client authentication
# AUTH_SECRET: openssl rand -base64 32
# KEYCLOAK_CLIENT_SECRET: Must match the client secret configured in Keycloak
# -----------------------------------------------------------------------------
AUTH_SECRET=
KEYCLOAK_CLIENT_SECRET=

# -----------------------------------------------------------------------------
# Hub Connection
# The URL of the DIVE V3 Hub for federation
# Default hub is usa-api.dive25.com
# -----------------------------------------------------------------------------
HUB_URL=https://usa-api.dive25.com
HUB_OPAL_URL=https://usa-api.dive25.com:7002

# -----------------------------------------------------------------------------
# Spoke Token (REQUIRED for Federation)
# Received after Hub admin approves your registration
# Run: ./dive --instance <code> spoke register
# Then wait for approval and add the token here
# -----------------------------------------------------------------------------
SPOKE_OPAL_TOKEN=

# -----------------------------------------------------------------------------
# Instance Configuration
# Auto-generated during spoke init
# -----------------------------------------------------------------------------
INSTANCE_CODE=
SPOKE_ID=

# -----------------------------------------------------------------------------
# Cloudflare Tunnel (Optional)
# If using dive25.com subdomains, add your tunnel token here
# Create tunnel at: https://one.dash.cloudflare.com
# -----------------------------------------------------------------------------
TUNNEL_TOKEN=

# -----------------------------------------------------------------------------
# Optional Overrides
# Uncomment and set if you need to override defaults
# -----------------------------------------------------------------------------
# KEYCLOAK_HOST_PORT=8443
# BACKEND_HOST_PORT=4000
# FRONTEND_HOST_PORT=3000
# OPA_HOST_PORT=8181
# OPAL_HOST_PORT=7000
