# =============================================================================
# DIVE V3 Helm Chart - Production Environment Values
# =============================================================================
# Production-specific overrides
# =============================================================================

global:
  instance: "usa"
  namespace: "dive-v3"

frontend:
  replicaCount: 3
  image:
    tag: "prod"
  autoscaling:
    enabled: true
    minReplicas: 3
    maxReplicas: 10

backend:
  replicaCount: 3
  image:
    tag: "prod"
  autoscaling:
    enabled: true
    minReplicas: 3
    maxReplicas: 10

keycloak:
  replicaCount: 2

opa:
  replicaCount: 3
  autoscaling:
    enabled: true
    minReplicas: 3
    maxReplicas: 10

postgresql:
  primary:
    persistence:
      size: 100Gi
    resources:
      requests:
        cpu: 1000m
        memory: 2Gi
      limits:
        cpu: 4000m
        memory: 8Gi

mongodb:
  persistence:
    size: 100Gi
  resources:
    requests:
      cpu: 1000m
      memory: 2Gi
    limits:
      cpu: 4000m
      memory: 8Gi

redis:
  master:
    persistence:
      size: 50Gi
    resources:
      requests:
        cpu: 500m
        memory: 1Gi
      limits:
        cpu: 2000m
        memory: 2Gi

blueGreen:
  enabled: true
  previewReplicas: 2
  autoPromotion:
    enabled: false  # Manual promotion in production

monitoring:
  enabled: true
  prometheus:
    scrapeInterval: 15s

networkPolicy:
  enabled: true
  defaultDeny: true

podDisruptionBudget:
  enabled: true
  minAvailable: 2

